# AWS Glue
データのパイプライン処理を行う

## AWS Glueとは？
AWS Glue は、ETL（Extract, Transform, Load） を自動化するサーバーレスのデータ統合サービスです。  
異なるデータソースからデータを抽出（Extract）、変換（Transform）、ロード（Load）するプロセスを効率化し、データパイプラインを簡単に構築できます。
- ストリーミングはできない
---

## AWS Glue の主な機能
### 1. サーバーレス（Serverless）
- インフラ管理不要 → EC2 などのセットアップなしで、即座にETL処理を実行できる。
- 必要に応じて自動スケーリング するため、大量のデータ処理も可能。

### 2. ETL（Extract, Transform, Load）
AWS Glue は、次のような ETL 処理 を簡単に実装できます：
1. Extract（データ抽出）：S3、RDS、DynamoDB、Redshift、オンプレミスのデータベースなどからデータを取得。
2. Transform（データ変換）：Python または Spark を使ってデータの前処理や加工を実施。
3. Load（データロード）：データウェアハウス（Redshift など）や S3 に格納。

### 3. AWS Glue Data Catalog
- Glue のデータカタログは データのメタデータ（スキーマ、データの場所など）を管理 する機能。
- Athena, Redshift Spectrum, EMR などの AWS サービスと統合され、スキーマを統一できる。

### 4. AWS Glue Crawler（クローラー）
- S3, RDS, DynamoDB などのデータソースを自動でスキャンし、スキーマを推測してデータカタログを作成 する。
- 手動でスキーマ定義をしなくても、自動でデータを認識できる。

### 5. AWS Glue Studio（ノーコード ETL 開発）
- GUI ベースで ドラッグ & ドロップ しながら ETL 処理を設計できる。
- コードを書かずに ETL ジョブを作成できるため、データエンジニア以外のユーザーも扱いやすい。

### 6. データストリーミングはできない
- AWS Glue はバッチ処理に特化しており、リアルタイムデータストリーミングには向いていない。
- リアルタイム処理が必要な場合は、Kinesis Data Streams や AWS Lambda を使用することを検討。
---

## AWS Glue の活用例
### ✅ データレイクの構築
- S3 に保存された生データを Glue で整形し、分析可能な形式に変換
- Glue Data Catalog を使い、Athena でクエリ実行

### ✅ データウェアハウス（DWH）へのデータロード
- RDS / DynamoDB から Glue を使って Redshift にデータを移動
- データ変換・クリーニングを自動化し、DWH に最適な形で保存

### ✅ 機械学習のデータ前処理
- 大規模なデータを Spark ベースで前処理し、SageMaker で学習
- ETL を自動化して、最新データでのモデル学習を定期実行

---

## AWS Glue の料金
AWS Glue は 従量課金制 で、使用したリソース分だけ課金されます。

| サービス | 課金ポイント | 料金の目安 |
|---------|------------|-----------|
| Glue ETL ジョブ | 実行時間（DPU単位） | $0.44 / DPU-時間 |
| Glue Crawler | スキャンするデータ量 | $0.44 / DPU-時間 |
| Glue Data Catalog | ストレージ + クエリ実行 | 最初の 1M オブジェクトは無料 |

💡 DPU（Data Processing Unit）：Glue がデータ処理のために使用するコンピュートリソース

---

## AWS Glue を使うメリット
✅ サーバーレスでインフラ管理不要  
✅ ETL 処理を簡単に実装できる（Python / Spark でカスタマイズ可能）  
✅ データカタログ機能でスキーマ管理を自動化  
✅ Athena, Redshift, SageMaker など AWS サービスと統合が容易  
✅ GUI（Glue Studio）を使えば、ノーコードで ETL を設計可能  

---

## AWS Glue を使うべきか？
| ユースケース | AWS Glue の適用 |
|-------------|---------------|
| データレイク構築（S3 + Athena） | ✅ 適している |
| DWH（Redshift）へのETL処理 | ✅ 適している |
| データパイプラインの自動化 | ✅ 適している |
| 少量データのETL（小規模なデータ処理） | ❌ Lambda + Step Functions の方が安いかも |
| リアルタイム処理（ストリームデータ） | ❌ Kinesis Data Streams の方が適している |

---

## まとめ
AWS Glue は、ETL（データ抽出・変換・ロード）をサーバーレスで簡単に実行できる AWS のデータ統合サービスです。  
特に、データレイク、データウェアハウスの構築、機械学習のデータ前処理 で活用されます。

💡 「大量のデータを処理し、データパイプラインを自動化したい」 なら AWS Glue は最適！ 🚀


## AWS Glue FindMatches ML
- FindMatches ML は、AWS Glue の機械学習機能を使って、データのマッチング（一致）を行う機能です。
- 機械学習で重複データを検出し、マージやクリーニングを自動化できる。
- レコードが完全に一致しなくても、類似性を評価してマッチングすることが可能。
